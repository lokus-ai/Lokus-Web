const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/main-B6lURwgI.js","assets/main-C2isQc-j.css"])))=>i.map(i=>d[i]);
import{validationUtils as w}from"./index-ColRcbXF.js";import{fileOperations as S,keyboardUtils as v,uiUtils as O}from"./index-ColRcbXF.js";import{i as n,_ as h}from"./main-B6lURwgI.js";const a={app:{name:"Lokus",executableName:"lokus.exe",defaultInstallPath:"C:\\Program Files\\Lokus",userDataPath:"%APPDATA%\\Lokus",tempPath:"%TEMP%\\Lokus"},files:{defaultWorkspacePath:"%USERPROFILE%\\Documents\\Lokus",maxPathLength:260,reservedNames:["CON","PRN","AUX","NUL","COM1","COM2","COM3","COM4","COM5","COM6","COM7","COM8","COM9","LPT1","LPT2","LPT3","LPT4","LPT5","LPT6","LPT7","LPT8","LPT9"],invalidChars:'<>:"|?*',associations:{".md":{progId:"Lokus.Markdown",description:"Markdown Document",icon:"markdown.ico"},".markdown":{progId:"Lokus.Markdown",description:"Markdown Document",icon:"markdown.ico"}}},terminal:{preferences:[{name:"Windows Terminal",command:"wt",args:["-d","{path}"],available:null},{name:"PowerShell",command:"powershell",args:["-NoExit","-Command",'cd "{path}"'],available:null},{name:"Command Prompt",command:"cmd",args:["/k",'cd /d "{path}"'],available:!0}]},shortcuts:{global:{newWindow:"Ctrl+Shift+N",closeWindow:"Alt+F4",minimize:"Win+Down",maximize:"Win+Up"},editor:{selectWord:"Ctrl+D",selectLine:"Ctrl+L",deleteLine:"Ctrl+Shift+K",duplicateLine:"Ctrl+Shift+D",moveLineUp:"Alt+Up",moveLineDown:"Alt+Down"}},ui:{borderRadius:"8px",acrylic:{enabled:!0,tint:"rgba(255, 255, 255, 0.05)",blur:"20px"},snapLayouts:{enabled:!0,zones:["half-left","half-right","quarter","three-quarter"]},contextMenu:{style:"windows11",animations:!0,icons:!0}},shell:{contextMenu:{enabled:!0,entries:[{key:"open_with_lokus",title:"Open with Lokus",icon:"%INSTALLDIR%\\lokus.ico",command:'"%INSTALLDIR%\\lokus.exe" "%1"'}]},jumpList:{enabled:!0,maxItems:10,categories:["Recent","Tasks"]}},notifications:{provider:"windows-native",defaultSound:"ms-winsoundevent:Notification.Default",badgeSupport:!0,actionCenter:!0},performance:{directWrite:!0,hardwareAcceleration:!0,gpuRasterization:!0},features:{windowsHello:!1,darkModeSync:!0,taskbarProgress:!0,thumbnailToolbar:!0,aeroSnap:!0}},l={async register(){try{return await n("windows_register_file_associations",{associations:a.files.associations}),!0}catch(e){return console.error("Failed to register file associations:",e),!1}},async check(){try{return await n("windows_check_file_associations")}catch(e){return console.error("Failed to check file associations:",e),!1}}},c={async update(e){try{const t=e.map(r=>({type:"task",title:r.name||"Untitled Workspace",description:r.path,program:"lokus.exe",args:`"${r.path}"`,iconPath:r.path,iconIndex:0}));return await n("windows_update_jump_list",{items:t,maxItems:a.shell.jumpList.maxItems}),!0}catch(t){return console.error("Failed to update jump list:",t),!1}},async clear(){try{return await n("windows_clear_jump_list"),!0}catch(e){return console.error("Failed to clear jump list:",e),!1}}},s={async register(){try{return await n("windows_register_context_menu",{entries:a.shell.contextMenu.entries}),!0}catch(e){return console.error("Failed to register context menu:",e),!1}},async unregister(){try{return await n("windows_unregister_context_menu"),!0}catch(e){return console.error("Failed to unregister context menu:",e),!1}}},u={async setProgress(e,t="normal"){try{return await n("windows_set_taskbar_progress",{progress:Math.max(0,Math.min(1,e)),state:t}),!0}catch(r){return console.error("Failed to set taskbar progress:",r),!1}},async clear(){try{return await n("windows_clear_taskbar_progress"),!0}catch(e){return console.error("Failed to clear taskbar progress:",e),!1}}},f={async show(e){try{const t={title:e.title,body:e.body,icon:e.icon||"lokus.ico",sound:e.sound!==!1?a.notifications.defaultSound:null,actions:e.actions||[],silent:e.silent||!1};return await n("windows_show_notification",t)}catch(t){return console.error("Failed to show notification:",t),null}},async clear(e){try{return await n("windows_clear_notification",{id:e}),!0}catch(t){return console.error("Failed to clear notification:",t),!1}}},d={async syncDarkMode(){try{return await n("windows_is_dark_mode")}catch{return window.matchMedia("(prefers-color-scheme: dark)").matches}},async onThemeChange(e){try{await n("windows_watch_theme_changes");const{listen:t}=await h(async()=>{const{listen:i}=await import("./main-B6lURwgI.js").then(m=>m.a);return{listen:i}},__vite__mapDeps([0,1]));return await t("windows-theme-changed",i=>{e(i.payload.isDarkMode)})}catch(t){return console.error("Failed to watch theme changes:",t),null}}},p={async indexWorkspace(e){try{return await n("windows_index_workspace",{path:e}),!0}catch(t){return console.error("Failed to index workspace:",t),!1}},async removeFromIndex(e){try{return await n("windows_remove_from_index",{path:e}),!0}catch(t){return console.error("Failed to remove from index:",t),!1}}};async function g(e={}){const t={fileAssociations:!1,contextMenu:!1,darkModeSync:!1};return e.fileAssociations!==!1&&(t.fileAssociations=await l.register()),e.contextMenu!==!1&&(t.contextMenu=await s.register()),e.darkModeSync!==!1&&(t.darkModeSync=await d.syncDarkMode()),t}async function C(){await s.unregister(),await c.clear(),await u.clear()}const M=Object.freeze(Object.defineProperty({__proto__:null,cleanupWindowsFeatures:C,contextMenu:s,fileAssociations:l,initializeWindowsFeatures:g,jumpList:c,notifications:f,searchIntegration:p,taskbarProgress:u,themeIntegration:d},Symbol.toStringTag,{value:"Module"})),_={newFile:"Ctrl+N",newFolder:"Ctrl+Shift+N",save:"Ctrl+S",saveAs:"Ctrl+Shift+S",close:"Ctrl+W",closeAll:"Ctrl+Shift+W",find:"Ctrl+F",findAndReplace:"Ctrl+H",findInFiles:"Ctrl+Shift+F",commandPalette:"Ctrl+K",quickOpen:"Ctrl+P",properties:"Alt+Enter",rename:"F2",refresh:"F5",fullscreen:"F11",cut:"Ctrl+X",copy:"Ctrl+C",paste:"Ctrl+V",selectAll:"Ctrl+A",undo:"Ctrl+Z",redo:"Ctrl+Y",nextTab:"Ctrl+Tab",previousTab:"Ctrl+Shift+Tab",closeTab:"Ctrl+W",reopenTab:"Ctrl+Shift+T",toggleSidebar:"Ctrl+B",togglePreview:"Ctrl+Shift+V",zoomIn:"Ctrl+Plus",zoomOut:"Ctrl+Minus",resetZoom:"Ctrl+0"},o={toWindowsPath:e=>e&&(e.startsWith("//")?"\\\\"+e.slice(2).replace(/\//g,"\\"):e.replace(/\//g,"\\")),toUnixPath:e=>e&&(e.startsWith("\\\\")?"//"+e.slice(2).replace(/\\/g,"/"):e.replace(/\\/g,"/")),getDriveLetter:e=>{const t=e.match(/^([A-Za-z]):/);return t?t[1].toUpperCase():null},isAbsolutePath:e=>/^[A-Za-z]:/.test(e)||e.startsWith("\\\\"),isUNCPath:e=>e.startsWith("\\\\")||e.startsWith("//"),normalizePath:e=>e&&(e.startsWith("\\\\")?"\\\\"+e.slice(2).replace(/\\+/g,"\\").replace(/\\$/,""):e.replace(/\\+/g,"\\").replace(/\\$/,"")),joinPath:(...e)=>{const t=e.filter(Boolean).join("\\").replace(/\\+/g,"\\");return e[0]&&e[0].startsWith("\\\\")?"\\\\"+t.slice(2):t},getParentDirectory:e=>{if(!e)return e;const r=o.normalizePath(e).split("\\");return r.length<=1||r.length===2&&r[1]===""?null:(r.pop(),r.join("\\"))},getFilename:e=>{if(!e)return"";const r=o.normalizePath(e).split("\\");return r[r.length-1]},isPathTooLong:e=>e.length>=260&&!e.startsWith("\\\\?\\"),toLongPath:e=>!e||e.startsWith("\\\\?\\")?e:o.isUNCPath(e)?"\\\\?\\UNC\\"+e.slice(2):o.isAbsolutePath(e)&&e.length>=260?"\\\\?\\"+e:e},k={...w,isReservedFilename:e=>{const t=["CON","PRN","AUX","NUL","COM1","COM2","COM3","COM4","COM5","COM6","COM7","COM8","COM9","LPT1","LPT2","LPT3","LPT4","LPT5","LPT6","LPT7","LPT8","LPT9"],r=e.split(".")[0].toUpperCase();return t.includes(r)},isValidFilename:e=>!/[<>:"|?*\x00-\x1f]/.test(e)&&!k.isReservedFilename(e)&&!e.endsWith(".")&&!e.endsWith(" ")&&e.trim().length>0,isPathLengthValid:e=>e.length<260},y={getAccentColor:()=>"#0078D4",isDarkModeEnabled:()=>window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,getWindowsStyles:()=>({borderRadius:"8px",backdropFilter:"blur(20px)",boxShadow:"0 2px 20px rgba(0, 0, 0, 0.1)"})},x={getContextMenuItems:()=>[{id:"open-with-lokus",label:"Open with Lokus",icon:"file-text"},{id:"reveal-in-explorer",label:"Reveal in Explorer",icon:"folder-open"}],getFileAssociations:()=>({".md":{description:"Markdown Document",icon:"markdown-icon",progId:"Lokus.Markdown"},".markdown":{description:"Markdown Document",icon:"markdown-icon",progId:"Lokus.Markdown"}})},b={getJumpListItems:e=>e.map(t=>({type:"task",title:t.name,description:t.path,program:"lokus.exe",args:`--workspace "${t.path}"`,iconPath:t.path,iconIndex:0})),getNotificationOptions:()=>({badge:!0,sound:!0,actions:!0,inline:!0,persistent:!1})};export{S as fileOperations,v as keyboardUtils,O as uiUtils,w as validationUtils,b as windowsFeatureHelpers,M as windowsFeaturesFromModule,o as windowsPathUtils,x as windowsShell,_ as windowsShortcuts,y as windowsUI,k as windowsValidation};
